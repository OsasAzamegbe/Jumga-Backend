(this["webpackJsonpjumga-frontend"]=this["webpackJsonpjumga-frontend"]||[]).push([[0],{26:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),c=a(35),i=a.n(c),o=(a(43),a(11)),l=a(2),u=a(7),d=a.n(u),m=a(4),j=a(24),b=(a(44),function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),a=t[0],s=t[1],c=function(){return s(!1)};return Object(n.jsx)("nav",{className:"navbar",children:Object(n.jsxs)("div",{className:"navbar-container container ".concat(a?"active":""),children:[Object(n.jsx)(o.b,{to:"/",className:"navbar-logo",onClick:c,children:"Jumga"}),Object(n.jsx)("div",{className:"menu-icon",onClick:function(){return s(!a)},children:a?Object(n.jsx)(j.b,{className:"fa-times"}):Object(n.jsx)(j.a,{className:"fa-bars"})}),Object(n.jsxs)("ul",{className:a?"nav-menu active":"nav-menu",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/",className:"nav-links",onClick:c,children:"Home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/signup/",className:"nav-links",onClick:c,children:"SIGN UP"})})]})]})})}),h=a(6),p=(a(50),a(51),function(e){var t=e.lightBg,a=e.topLine,r=e.lightText,s=e.lightTextDesc,c=e.headLine,i=e.description,l=e.buttonLabel,u=e.img,d=e.alt,m=e.imgStart,j=e.hideButton,b=e.buttonLink;return Object(n.jsx)("div",{className:t?"home__home-section":"home__home-section darkBg",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row home__home-row",style:{display:"flex",flexDirection:m?"row-reverse":"row"},children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("div",{className:"home__home-text-wraper",children:[Object(n.jsx)("div",{className:t?"top-line":"top-line light-red",children:a}),Object(n.jsx)("h1",{className:r?"heading":"heading dark",children:c}),Object(n.jsx)("p",{className:s?"home__home-subtitle":"home__home-subtitle dark",children:i}),j?"":Object(n.jsx)(o.b,{to:b,children:Object(n.jsx)("button",{className:"btn",children:l})})]})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("div",{className:"home__home-img-wrapper",children:Object(n.jsx)("img",{className:"home__home-img",src:u,alt:d})})})]})})})}),O={lightBg:!0,lightText:!1,lightTextDesc:!1,topLine:"Jumga Marketplace",headLine:"Start Today!",description:"Welcome. This is a thriving marketplace for merchants and online shoppers alike. Creating an online shop with us as easy as A-B-C.",buttonLabel:"JOIN US!",buttonLink:"signup/",imgStart:!1,img:"images/svg-3.svg",alt:"placeholder for home"},f={lightBg:!1,lightText:!0,lightTextDesc:!0,topLine:"Create an account",headLine:"Sign Up Now!",description:"Create an account or sign into your existing account to gain full access to our state-of-the-art user-friendly merchant services.",buttonLabel:"SIGN UP",buttonLink:"signup/",imgStart:!0,img:"images/svg-1.svg",alt:"fintech"},g=function(){return Object(n.jsx)("div",{className:"home",children:Object(n.jsxs)("div",{className:"home-container",children:[Object(n.jsx)(p,Object(h.a)({},O)),Object(n.jsx)(p,Object(h.a)({},f))]})})},x=(a(26),a(52),function(e){var t=e.childComponent;return Object(n.jsx)("div",{className:"card",children:t})}),v=a(12),N=a.n(v),w=a(14),y=a(37),_=a.n(y),C=function(){return Object(r.useEffect)((function(){(function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("http://localhost:8000/api/v1","/getcsrf"),e.next=3,_.a.get(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"hidden"})})},S=(a(72),function(e){var t=e.id,a=e.label,r=e.onChange,s=e.value,c=e.name,i=e.type,o=e.isRequired,l=e.placeholder,u=e.errors;return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:t,className:"form-label",children:a}),Object(n.jsx)("input",{onChange:r,value:s,className:"form-input",name:c,id:t,type:i,required:o,placeholder:l,inputMode:"number"===i?"decimal":"text"}),u?Object(n.jsx)("small",{className:"error",children:u[c]}):null]})}),L=function(e){var t=e.inputObjectList,a=e.submitHandler,s=e.btnLabel,c=e.isLoading,i=e.errors;return Object(n.jsxs)("form",{className:"form-form",onSubmit:a,children:[Object(n.jsx)(C,{}),t.map((function(e,t){return Object(r.createElement)(S,Object(h.a)(Object(h.a)({},e),{},{errors:i,key:t}))})),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{disabled:!!c,className:"btn",type:"submit",children:s})})]})},k=a(18),E=a(15),T=function(e,t,a){e((function(e){var n=Object(h.a)({},e);return n[t]=a,n}))},A=function(e,t){var a=Object.keys(e),n=!0;if(a.includes("email")){var r=e.email.trim();r?function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(r)||(T(t,"email","Email address is invalid."),n=!1):(T(t,"email","Field cannot be empty."),n=!1)}if(a.includes("password")){var s=e.password.trim();s?function(e){return/^(?=.*[0-9])(?=.*[A-Z])(?=.*[!@#$%^&*/\\():-~`{}[\]])[a-zA-Z0-9!@#$%^&*/\\():-~`{}[\]]{8,100}$/.test(String(e))}(s)||(T(t,"password","Password must be 8 - 100 characters long and must contain at least: one uppercase letter, one digit and one special character."),n=!1):(T(t,"password","Field cannot be empty."),n=!1)}if(a.includes("password_confirm")){var c=e.password_confirm.trim();e.password&&e.password===c||(T(t,"password_confirm","Passwords do not match."),n=!1)}return{validated:Object.assign.apply(Object,[{}].concat(Object(E.a)(Object.keys(e).map((function(t){return["password","password_confirm"].includes(t)?Object(k.a)({},t,e[t]):Object(k.a)({},t,e[t].trim())}))))),status:n}},R=function(){var e=Object(w.a)(N.a.mark((function e(t){var a,n,r,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=d.a.get("csrftoken"),n="".concat("http://localhost:8000/api/v1","/auth/signup"),e.next=5,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-type":"application/json","X-CSRFToken":a},body:JSON.stringify(t)});case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:"Something went wrong."});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),P=s.a.createContext(),D=function(){return Object(r.useContext)(P)},F={isAuthenticated:!1,user:null,merchant:null,dispatch_rider:null},U=function(e,t){switch(t.type){case"LOGIN":return d.a.set("user",t.payload.user,{expires:7}),d.a.set("merchant",t.payload.merchant,{expires:7}),d.a.set("dispatch_rider",t.payload.dispatch_rider,{expires:7}),Object(h.a)(Object(h.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,merchant:t.payload.merchant,dispatch_rider:t.payload.dispatch_rider});case"LOGOUT":return d.a.remove("user"),d.a.remove("merchant"),d.a.remove("dispatch_rider"),Object(h.a)(Object(h.a)({},e),{},{isAuthenticated:!1,user:null,merchant:null,dispatch_rider:null});default:return e}},B=function(e){var t=e.children,a=Object(r.useReducer)(U,F),s=Object(m.a)(a,2),c={state:s[0],dispatch:s[1]};return Object(n.jsx)(P.Provider,{value:c,children:t})},I=s.a.createContext(),J=function(){return Object(r.useContext)(I)},q=[],G=function(e,t){switch(t.color){case"RED":return[].concat(Object(E.a)(e),[{color:"alert-red",message:t.message}]);case"GREEN":return[].concat(Object(E.a)(e),[{color:"alert-green",message:t.message}]);case"BLUE":return[].concat(Object(E.a)(e),[{color:"alert-blue",message:t.message}]);case"DELETE":return e.filter((function(e,t){return 0!==t}));default:return e}},Y=function(e){var t=e.children,a=Object(r.useReducer)(G,q),s=Object(m.a)(a,2),c=s[0],i=s[1],o={alerts:c,setAlert:function(e,t){i({color:e,message:t}),setTimeout((function(){i({color:"DELETE"})}),5e3)}};return Object(n.jsx)(I.Provider,{value:o,children:t})},Z=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(m.a)(c,2),u=i[0],d=i[1],j=Object(r.useState)(""),b=Object(m.a)(j,2),h=b[0],p=b[1],O=Object(r.useState)(""),f=Object(m.a)(O,2),g=f[0],x=f[1],v=Object(r.useState)(""),y=Object(m.a)(v,2),_=y[0],C=y[1],S=Object(r.useState)(""),k=Object(m.a)(S,2),E=k[0],T=k[1],P=Object(r.useState)(!1),F=Object(m.a)(P,2),U=F[0],B=F[1],I=Object(r.useState)(null),q=Object(m.a)(I,2),G=q[0],Y=q[1],Z=D().dispatch,$=J().setAlert,z=function(){var e=Object(w.a)(N.a.mark((function e(t){var n,r,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),B(!0),Y(null),n=A({email:g,password:_,password_confirm:E},Y),!n.status||G){e.next=11;break}return r={first_name:a,last_name:u,username:h,email:g,password:_,password_confirm:E},e.next=8,R(r);case 8:"successful"===(s=e.sent).status?(Z({type:"LOGIN",payload:s.data}),$("GREEN",s.message),l.a):$("RED",s.message);case 11:B(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=[{label:"First Name",onChange:function(e){s(e.target.value)},value:a,name:"first_name",id:"first_name",type:"text",isRequired:!0,placeholder:"Your First Name"},{label:"Last Name",onChange:function(e){d(e.target.value)},value:u,name:"last_name",id:"last_name",type:"text",isRequired:!0,placeholder:"Your Last Name"},{label:"Username",onChange:function(e){p(e.target.value)},value:h,name:"username",id:"username",type:"text",isRequired:!0,placeholder:"Your Username"},{label:"Email",onChange:function(e){x(e.target.value)},value:g,name:"email",id:"email",type:"email",isRequired:!0,placeholder:"Your Email"},{label:"Password",onChange:function(e){C(e.target.value)},value:_,name:"password",id:"password",type:"password",isRequired:!0,placeholder:"Your Password"},{label:"Password Confirmation",onChange:function(e){T(e.target.value)},value:E,name:"password_confirm",id:"password_confirm",type:"password",isRequired:!0,placeholder:"Confirm Password"}];return Object(n.jsxs)("div",{className:"form",children:[Object(n.jsx)("header",{children:"Sign Up"}),Object(n.jsx)("div",{className:"auth-form-wrapper",children:Object(n.jsx)(L,{inputObjectList:H,submitHandler:z,btnLabel:"Sign Up",isLoading:U,errors:G})}),Object(n.jsxs)("small",{children:["Already have an account? ",Object(n.jsx)(o.b,{to:"/signin",children:Object(n.jsx)("mark",{children:"Sign In"})})," "]})]})},$=function(){return Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)("header",{children:"CREATE AN ACCOUNT TODAY"}),Object(n.jsx)(x,{childComponent:Object(n.jsx)(Z,{})})]})},z=function(e){var t=e.message,a=e.color;return Object(n.jsx)("div",{className:"alert-container",children:Object(n.jsx)("div",{className:"alert ".concat(a),children:Object(n.jsx)("p",{className:"alert-text",children:t})})})},H=function(){var e=J().alerts;return Object(n.jsx)(n.Fragment,{children:e.length>0?e.map((function(e,t){return Object(n.jsx)(z,{message:e.message,color:e.color},t)})):null})},M=function(){var e=D().dispatch;return Object(r.useEffect)((function(){var t=d.a.getJSON("user"),a=d.a.getJSON("merchant"),n=d.a.getJSON("dispatch_rider");(t||a||n)&&e({type:"LOGIN",payload:{user:t,merchant:a,dispatch_rider:n}})}),[e]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Y,{children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(b,{}),Object(n.jsx)(H,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:g}),Object(n.jsx)(l.b,{path:"/signup/",component:$})]})]})})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};a(73);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(B,{children:Object(n.jsx)(M,{})})}),document.getElementById("root")),W()}},[[74,1,2]]]);
//# sourceMappingURL=main.cd8f96a5.chunk.js.map