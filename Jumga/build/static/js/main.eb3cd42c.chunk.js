(this["webpackJsonpjumga-frontend"]=this["webpackJsonpjumga-frontend"]||[]).push([[0],{26:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),r=a(35),i=a.n(r),o=(a(43),a(10)),l=a(2),u=a(4),d=a(24),m=(a(44),function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],s=t[1],r=function(){return s(!1)};return Object(n.jsx)("nav",{className:"navbar",children:Object(n.jsxs)("div",{className:"navbar-container container ".concat(a?"active":""),children:[Object(n.jsx)(o.b,{to:"/",className:"navbar-logo",onClick:r,children:"Jumga"}),Object(n.jsx)("div",{className:"menu-icon",onClick:function(){return s(!a)},children:a?Object(n.jsx)(d.b,{className:"fa-times"}):Object(n.jsx)(d.a,{className:"fa-bars"})}),Object(n.jsxs)("ul",{className:a?"nav-menu active":"nav-menu",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/",className:"nav-links",onClick:r,children:"Home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/signup/",className:"nav-links",onClick:r,children:"SIGN UP"})})]})]})})}),j=a(6),b=(a(50),a(51),function(e){var t=e.lightBg,a=e.topLine,c=e.lightText,s=e.lightTextDesc,r=e.headLine,i=e.description,l=e.buttonLabel,u=e.img,d=e.alt,m=e.imgStart,j=e.hideButton,b=e.buttonLink;return Object(n.jsx)("div",{className:t?"home__home-section":"home__home-section darkBg",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row home__home-row",style:{display:"flex",flexDirection:m?"row-reverse":"row"},children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("div",{className:"home__home-text-wraper",children:[Object(n.jsx)("div",{className:t?"top-line":"top-line light-red",children:a}),Object(n.jsx)("h1",{className:c?"heading":"heading dark",children:r}),Object(n.jsx)("p",{className:s?"home__home-subtitle":"home__home-subtitle dark",children:i}),j?"":Object(n.jsx)(o.b,{to:b,children:Object(n.jsx)("button",{className:"btn",children:l})})]})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("div",{className:"home__home-img-wrapper",children:Object(n.jsx)("img",{className:"home__home-img",src:u,alt:d})})})]})})})}),h={lightBg:!0,lightText:!1,lightTextDesc:!1,topLine:"Jumga Marketplace",headLine:"Start Today!",description:"Welcome. This is a thriving marketplace for merchants and online shoppers alike. Creating an online shop with us as easy as A-B-C.",buttonLabel:"JOIN US!",buttonLink:"signup/",imgStart:!1,img:"images/svg-3.svg",alt:"placeholder for home"},p={lightBg:!1,lightText:!0,lightTextDesc:!0,topLine:"Create an account",headLine:"Sign Up Now!",description:"Create an account or sign into your existing account to gain full access to our state-of-the-art user-friendly merchant services.",buttonLabel:"SIGN UP",buttonLink:"signup/",imgStart:!0,img:"images/svg-1.svg",alt:"fintech"},O=function(){return Object(n.jsx)("div",{className:"home",children:Object(n.jsxs)("div",{className:"home-container",children:[Object(n.jsx)(b,Object(j.a)({},h)),Object(n.jsx)(b,Object(j.a)({},p))]})})},f=(a(26),a(52),function(e){var t=e.childComponent;return Object(n.jsx)("div",{className:"card",children:t})}),g=a(11),x=a.n(g),v=a(13),N=a(19),w=a.n(N),y=function(){return Object(c.useEffect)((function(){(function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("http://localhost:8000/api/v1","/getcsrf"),e.next=3,w.a.get(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"hidden"})})},S=(a(72),function(e){var t=e.id,a=e.label,c=e.onChange,s=e.value,r=e.name,i=e.type,o=e.isRequired,l=e.placeholder,u=e.errors;return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:t,className:"form-label",children:a}),Object(n.jsx)("input",{onChange:c,value:s,className:"form-input",name:r,id:t,type:i,required:o,placeholder:l,inputMode:"number"===i?"decimal":"text"}),u?Object(n.jsx)("small",{className:"error",children:u[r]}):null]})}),C=function(e){var t=e.inputObjectList,a=e.submitHandler,s=e.btnLabel,r=e.isLoading,i=e.errors;return Object(n.jsxs)("form",{className:"form-form",onSubmit:a,children:[Object(n.jsx)(y,{}),t.map((function(e,t){return Object(c.createElement)(S,Object(j.a)(Object(j.a)({},e),{},{errors:i,key:t}))})),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{disabled:!!r,className:"btn",type:"submit",children:s})})]})},L=a(17),k=a(14),_=function(e,t,a){e((function(e){var n=Object(j.a)({},e);return n[t]=a,n}))},R=function(e,t){var a=Object.keys(e),n=!0;if(a.includes("email")){var c=e.email.trim();c?function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(c)||(_(t,"email","Email address is invalid."),n=!1):(_(t,"email","Field cannot be empty."),n=!1)}if(a.includes("password")){var s=e.password.trim();s?function(e){return/^(?=.*[0-9])(?=.*[A-Z])(?=.*[!@#$%^&*/\\():-~`{}[\]])[a-zA-Z0-9!@#$%^&*/\\():-~`{}[\]]{8,100}$/.test(String(e))}(s)||(_(t,"password","Password must be 8 - 100 characters long and must contain at least: one uppercase letter, one digit and one special character."),n=!1):(_(t,"password","Field cannot be empty."),n=!1)}if(a.includes("password_confirm")){var r=e.password_confirm.trim();e.password&&e.password===r||(_(t,"password_confirm","Passwords do not match."),n=!1)}return{validated:Object.assign.apply(Object,[{}].concat(Object(k.a)(Object.keys(e).map((function(t){return["password","password_confirm"].includes(t)?Object(L.a)({},t,e[t]):Object(L.a)({},t,e[t].trim())}))))),status:n}},E=a(37),T=a.n(E),A=function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,c,s,r,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.a.getItem("csrftoken"),c={headers:{Accept:"application/json","Content-type":"application/json","X-CSRFToken":n}},s="".concat("http://localhost:8000/api/v1","/auth/signup"),e.next=5,w.a.post(s,t,c);case 5:return r=e.sent,e.next=8,r.json();case 8:return i=e.sent,201===r.status?a({type:"LOGIN",payload:i}):console.log(i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=s.a.createContext(),P=function(){return Object(c.useContext)(I)},D={isAuthenticated:!1,user:null,merchant:null,dispatchRider:null},F=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("merchant",JSON.stringify(t.payload.merchant)),localStorage.setItem("dispatchRider",JSON.stringify(t.payload.dispatchRider)),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,merchant:t.payload.merchant,dispatchRider:t.payload.dispatchRider});case"LOGOUT":return localStorage.clear(),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,user:null,merchant:null,dispatchRider:null});default:return e}},J=function(e){var t=e.children,a=Object(c.useReducer)(F,D),s=Object(u.a)(a,2),r={state:s[0],dispatch:s[1]};return Object(n.jsx)(I.Provider,{value:r,children:t})},U=s.a.createContext(),B=function(){return Object(c.useContext)(U)},q=[],G=function(e,t){switch(t.color){case"RED":return[].concat(Object(k.a)(e),[{color:"alert-red",message:t.message}]);case"GREEN":return[].concat(Object(k.a)(e),[{color:"alert-green",message:t.message}]);case"BLUE":return[].concat(Object(k.a)(e),[{color:"alert-blue",message:t.message}]);case"DELETE":return e.filter((function(e,t){return 0!==t}));default:return e}},Y=function(e){var t=e.children,a=Object(c.useReducer)(G,q),s=Object(u.a)(a,2),r=s[0],i=s[1],o={alerts:r,setAlert:function(e,t){i({color:e,message:t}),setTimeout((function(){i({color:"DELETE"})}),3e3)}};return Object(n.jsx)(U.Provider,{value:o,children:t})},Z=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(""),i=Object(u.a)(r,2),d=i[0],m=i[1],j=Object(c.useState)(""),b=Object(u.a)(j,2),h=b[0],p=b[1],O=Object(c.useState)(""),f=Object(u.a)(O,2),g=f[0],N=f[1],w=Object(c.useState)(""),y=Object(u.a)(w,2),S=y[0],L=y[1],k=Object(c.useState)(""),_=Object(u.a)(k,2),E=_[0],T=_[1],I=Object(c.useState)(!1),D=Object(u.a)(I,2),F=D[0],J=D[1],U=Object(c.useState)(null),q=Object(u.a)(U,2),G=q[0],Y=q[1],Z=P().dispatch,$=B().setAlert,z=function(){var e=Object(v.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),J(!0),Y(null),a=R({email:g,password:S,password_confirm:E},Y),!a.status||G){e.next=10;break}return e.next=7,A(Z);case 7:"successful"===(n=e.sent).status?($("GREEN",n.message),"/dashboard/",l.a):$("RED",n.message);case 10:J(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=[{label:"First Name",onChange:function(e){s(e.target.value)},value:a,name:"first_name",id:"first_name",type:"text",isRequired:!0,placeholder:"Your First Name"},{label:"Last Name",onChange:function(e){m(e.target.value)},value:d,name:"last_name",id:"last_name",type:"text",isRequired:!0,placeholder:"Your Last Name"},{label:"Username",onChange:function(e){p(e.target.value)},value:h,name:"username",id:"username",type:"text",isRequired:!0,placeholder:"Your Username"},{label:"Email",onChange:function(e){N(e.target.value)},value:g,name:"email",id:"email",type:"email",isRequired:!0,placeholder:"Your Email"},{label:"Password",onChange:function(e){L(e.target.value)},value:S,name:"password",id:"password",type:"password",isRequired:!0,placeholder:"Your Password"},{label:"Password Confirmation",onChange:function(e){T(e.target.value)},value:E,name:"password_confirm",id:"password_confirm",type:"password",isRequired:!0,placeholder:"Confirm Password"}];return Object(n.jsxs)("div",{className:"form",children:[Object(n.jsx)("header",{children:"Sign Up"}),Object(n.jsx)("div",{className:"auth-form-wrapper",children:Object(n.jsx)(C,{inputObjectList:H,submitHandler:z,btnLabel:"Sign Up",isLoading:F,errors:G})}),Object(n.jsxs)("small",{children:["Already have an account? ",Object(n.jsx)(o.b,{to:"/signin",children:Object(n.jsx)("mark",{children:"Sign In"})})," "]})]})},$=function(){return Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)("header",{children:"CREATE AN ACCOUNT TODAY"}),Object(n.jsx)(f,{childComponent:Object(n.jsx)(Z,{})})]})},z=function(e){var t=e.message,a=e.color;return Object(n.jsx)("div",{className:"alert-container",children:Object(n.jsx)("div",{className:"alert ".concat(a),children:Object(n.jsx)("p",{className:"alert-text",children:t})})})},H=function(){var e=B().alerts;return Object(n.jsx)(n.Fragment,{children:e.length>0?e.map((function(e,t){return Object(n.jsx)(z,{message:e.message,color:e.color},t)})):null})},M=function(){var e=P().dispatch;return Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user")),a=JSON.parse(localStorage.getItem("merchant")),n=JSON.parse(localStorage.getItem("dispatchRider"));(t||a||n)&&e({type:"LOGIN",payload:{user:t,merchant:a,dispatchRider:n}})}),[e]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Y,{children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(m,{}),Object(n.jsx)(H,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:O}),Object(n.jsx)(l.b,{path:"/signup/",component:$})]})]})})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};a(73);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(J,{children:Object(n.jsx)(M,{})})}),document.getElementById("root")),W()}},[[74,1,2]]]);
//# sourceMappingURL=main.eb3cd42c.chunk.js.map